{"version":3,"sources":["panels/Main.js","AppSecondSecond.js","index.js"],"names":["ProductList","data","openModal","map","product","className","onClick","data-to","src","img","name","price","Main","id","dataProducts","useState","searchValue","setSearchValue","left","value","onChange","e","replace","AppSecondSecond","activePanel","activeModal","setActiveModal","dataProductsModul","setDataProducts","useEffect","connect","subscribe","detail","type","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetch","method","headers","then","response","json","modalBack","modal","header","IS_PLATFORM_ANDROID","right","IS_PLATFORM_IOS","onClose","settlingHeight","level","size","send","ReactDOM","render","getElementById"],"mappings":"swBA4BMA,EAAc,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,UACxB,OAAOD,EAAKE,KACR,SAAAC,GAAO,OACH,yBAAKC,UAAU,cAAcC,QAASJ,EAAWK,UAASH,GACtD,yBAAKI,IAAKJ,EAAQK,IAAML,EAAQK,IAAM,OACtC,yBAAKJ,UAAU,YAAYD,EAAQM,KAAON,EAAQM,KAAO,IACzD,yBAAKL,UAAU,aAAaD,EAAQO,MAAQP,EAAQO,MAAQ,SAK7DC,EAhCF,SAAC,GAAmC,IAAlCC,EAAiC,EAAjCA,GAAIX,EAA6B,EAA7BA,UAAWY,EAAkB,EAAlBA,aAAkB,EACNC,mBAAS,8CADH,mBACrCC,EADqC,KACxBC,EADwB,KAO5C,OACI,kBAAC,IAAD,CAAOJ,GAAIA,GACP,kBAAC,IAAD,CACEK,KAAM,kBAAC,IAAD,CAAcZ,QAASJ,GAAW,kBAAC,IAAD,SAE1C,kBAAC,IAAD,CAAQiB,MAAOH,EAAaI,SATd,SAAAC,GAClBJ,EAAeI,EAAEC,QAAQ,OAAO,SAS5B,yBAAKT,GAAG,cAAcR,UAAU,eAC3BS,GACG,kBAAC,EAAD,CAAab,KAAMa,EAAcZ,UAAWA,OC2EjDqB,G,cA9ES,WAAO,IAAD,EACYR,mBAAS,QADrB,mBACnBS,EADmB,aAEYT,mBAAS,OAFrB,mBAEnBU,EAFmB,KAENC,EAFM,OAGwBX,mBAAS,MAHjC,mBAGnBY,EAHmB,aAIcZ,mBAAS,OAJvB,mBAInBD,EAJmB,KAILc,EAJK,KAQ1BC,qBAAU,WACNC,IAAQC,WAAU,YAAgC,IAAD,IAA5BC,OAAUC,EAAkB,EAAlBA,KAAMhC,EAAY,EAAZA,KACjC,GAAa,yBAATgC,EAAiC,CACjC,IAAMC,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgBf,MAAQlB,EAAKoC,OAASpC,EAAKoC,OAAS,eACpDF,SAASG,KAAKC,WAAWC,aAAaN,OAInCO,MAAM,kCAAmC,CAChDC,OAAQ,MACRC,QAAS,CACL,eAAgB,sBAGnBC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAA3C,GAAI,OAAI2B,EAAgB3B,QAGnC,IAEH,IAAM8C,EAAY,WACdrB,EAAe,OASbsB,EACJ,kBAAC,IAAD,CAAWvB,YAAaA,GACtB,kBAAC,IAAD,CACEZ,GAAI,eACJoC,OACE,kBAAC,IAAD,CACE/B,KAAMgC,uBAAuB,kBAAC,IAAD,CAAc5C,QAASyC,GAAW,kBAAC,IAAD,OAC/DI,MAAOC,mBAAmB,kBAAC,IAAD,CAAc9C,QAASyC,GAAW,kBAAC,IAAD,QAE3DpB,EAAoBA,EAAkBjB,KAAO,IAGlD2C,QAASN,EACTO,eAAgB,IAEhB,kBAAC,IAAD,KAEE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQC,MAAM,YAAYC,KAAK,MAA/B,uEACA,kBAAC,IAAD,CAAQD,MAAM,YAAYC,KAAK,MAA/B,qGACA,kBAAC,IAAD,CAAQD,MAAM,YAAYC,KAAK,MAA/B,oJAYV,OACI,kBAAC,IAAD,CAAMhC,YAAaA,EAAawB,MAAOA,GACnC,kBAAC,EAAD,CAAMnC,GAAG,OAAOX,UAxCN,SAAAmB,GAGdK,EA9B2B,iBAmEeZ,aAAcA,OClFhEgB,IAAQ2B,KAAK,gBAQbC,IAASC,OAAO,kBAAC,EAAD,MAAqBxB,SAASyB,eAAe,W","file":"static/js/main.d5c76e45.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport Icon24Search from '@vkontakte/icons/dist/24/search';\r\n\r\nconst Main = ({id, openModal, dataProducts}) => {\r\n    const [searchValue, setSearchValue] = useState(\"Введите\");\r\n\r\n    const RefreshSearch = e => {\r\n        setSearchValue(e.replace(/\\s+/g,' '));\r\n    };\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n              left={<HeaderButton onClick={openModal}><Icon24Search/></HeaderButton>}\r\n            />\r\n            <Search value={searchValue} onChange={RefreshSearch}/>\r\n            <div id=\"ProductList\" className=\"ProductList\">\r\n                {dataProducts &&\r\n                    <ProductList data={dataProducts} openModal={openModal}/>}\r\n            </div>\r\n        </Panel>\r\n    );\r\n};\r\n\r\nconst ProductList = ({data, openModal}) => {\r\n    return data.map (\r\n        product =>\r\n            <div className=\"ProductCell\" onClick={openModal} data-to={product}>\r\n                <img src={product.img ? product.img : null}/>\r\n                <div className=\"ProdName\">{product.name ? product.name : \"\"}</div>\r\n                <div className=\"ProdPrice\">{product.price ? product.price : \"\"}</div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport ModalRoot from '@vkontakte/vkui/dist/components/ModalRoot/ModalRoot';\r\nimport ModalPage from '@vkontakte/vkui/dist/components/ModalPage/ModalPage';\r\nimport ModalPageHeader from '@vkontakte/vkui/dist/components/ModalPageHeader/ModalPageHeader';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\n\r\nimport Main from './panels/Main';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './panels/Main.css';\r\n\r\nconst AppSecondSecond = () => {\r\n    const [activePanel, setActivePanel] = useState('main');\r\n    const [activeModal, setActiveModal] = useState(null);\r\n    const [dataProductsModul, setDataProductsModul] = useState(null);\r\n    const [dataProducts, setDataProducts] = useState(null);\r\n\r\n    const MODAL_PAGE_PRODUCTINFO = \"product-info\";\r\n\r\n    useEffect(() => {\r\n        connect.subscribe(({ detail: { type, data }}) => {\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n            }\r\n        });\r\n        function serverRequest() {\r\n            return fetch(\"http://192.168.43.76:8080/items\", {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => setDataProducts(data));\r\n        }\r\n        serverRequest();\r\n    }, []);\r\n\r\n    const modalBack = () => {\r\n        setActiveModal(null);\r\n    };\r\n\r\n    const openModal = e => {\r\n\r\n\r\n        setActiveModal(MODAL_PAGE_PRODUCTINFO);\r\n    };\r\n\r\n    const modal = (\r\n      <ModalRoot activeModal={activeModal}>\r\n        <ModalPage\r\n          id={\"product-info\"}\r\n          header={\r\n            <ModalPageHeader\r\n              left={IS_PLATFORM_ANDROID && <HeaderButton onClick={modalBack}><Icon24Cancel /></HeaderButton>}\r\n              right={IS_PLATFORM_IOS && <HeaderButton onClick={modalBack}><Icon24Dismiss /></HeaderButton>}\r\n            >\r\n              {dataProductsModul ? dataProductsModul.name : \"\"}\r\n            </ModalPageHeader>\r\n          }\r\n          onClose={modalBack}\r\n          settlingHeight={80}\r\n        >\r\n          <FormLayout>\r\n\r\n            <FormLayoutGroup>\r\n              <Button level=\"secondary\" size=\"xl\">Выбор страны</Button>\r\n              <Button level=\"secondary\" size=\"xl\">Просмотры истории</Button>\r\n              <Button level=\"secondary\" size=\"xl\">Информация о пользователе</Button>\r\n            </FormLayoutGroup>\r\n\r\n          </FormLayout>\r\n        </ModalPage>\r\n      </ModalRoot>\r\n    );\r\n\r\n    const go = e => {\r\n        setActivePanel(e.currentTarget.dataset.to);\r\n    };\r\n\r\n    return (\r\n        <View activePanel={activePanel} modal={modal}>\r\n            <Main id='main' openModal={openModal} dataProducts={dataProducts}/>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default AppSecondSecond;\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\n// import registerServiceWorker from './sw';\r\n\r\nimport AppSecondSecond from './AppSecondSecond';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<AppSecondSecond />, document.getElementById('root'));\r\n"],"sourceRoot":""}