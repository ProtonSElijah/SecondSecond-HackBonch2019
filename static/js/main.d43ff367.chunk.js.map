{"version":3,"sources":["panels/Main.js","AppSecondSecond.js","index.js"],"names":["ProductList","data","openModal","map","product","className","onClick","data-name","name","data-price","price","data-img","img","data-url","url","data-store","shop","data-description","description","src","Main","id","dataProducts","useState","searchValue","setSearchValue","left","value","onChange","e","replace","AppSecondSecond","activePanel","activeModal","setActiveModal","nameProductModal","setNameProductModal","priceProductModal","setPriceProductModal","imgProductModal","setImgProductModal","descriptionProductModal","setDescriptionProductModal","storeProductModal","setStoreProductModal","setUrlProductModal","setDataProducts","useEffect","connect","subscribe","detail","type","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","fetch","method","headers","then","response","json","modalBack","modal","header","IS_PLATFORM_ANDROID","right","IS_PLATFORM_IOS","onClose","settlingHeight","level","size","currentTarget","dataset","store","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d43ff367.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Search from '@vkontakte/vkui/dist/components/Search/Search';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport Icon24Search from '@vkontakte/icons/dist/24/search';\r\n\r\nconst Main = ({id, openModal, dataProducts}) => {\r\n    const [searchValue, setSearchValue] = useState(\"Введите\");\r\n\r\n    const RefreshSearch = e => {\r\n        setSearchValue(e.replace(/\\s+/g,' '));\r\n    };\r\n\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader\r\n              left={<HeaderButton onClick={openModal}><Icon24Search/></HeaderButton>}\r\n            />\r\n            <Search value={searchValue} onChange={RefreshSearch}/>\r\n            <div id=\"ProductList\" className=\"ProductList\">\r\n                {dataProducts &&\r\n                    <ProductList data={dataProducts} openModal={openModal}/>}\r\n            </div>\r\n        </Panel>\r\n    );\r\n};\r\n\r\nconst ProductList = ({data, openModal}) => {\r\n    return data.map (\r\n        product =>\r\n            <div className=\"ProductCell\"\r\n               onClick={openModal}\r\n               data-name={product.name}\r\n               data-price={product.price}\r\n               data-img={product.img}\r\n               data-url={product.url}\r\n               data-store={product.shop}\r\n               data-description={product.description}>\r\n                <img src={product.img ? product.img : null}/>\r\n                <div className=\"ProdName\">{product.name ? product.name : \"\"}</div>\r\n                <div className=\"ProdPrice\">{product.price ? (product.price + \" руб.\") : \"\"}</div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport ModalRoot from '@vkontakte/vkui/dist/components/ModalRoot/ModalRoot';\r\nimport ModalPage from '@vkontakte/vkui/dist/components/ModalPage/ModalPage';\r\nimport ModalPageHeader from '@vkontakte/vkui/dist/components/ModalPageHeader/ModalPageHeader';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\r\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\n\r\nimport Main from './panels/Main';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './panels/Main.css';\r\n\r\nconst AppSecondSecond = () => {\r\n    const [activePanel, setActivePanel] = useState('main');\r\n    const [activeModal, setActiveModal] = useState(null);\r\n    const [nameProductModal, setNameProductModal] = useState(null);\r\n    const [priceProductModal, setPriceProductModal] = useState(null);\r\n    const [imgProductModal, setImgProductModal] = useState(null);\r\n    const [descriptionProductModal, setDescriptionProductModal] = useState(null);\r\n    const [storeProductModal, setStoreProductModal] = useState(null);\r\n    const [urlProductModal, setUrlProductModal] = useState(null);\r\n\r\n    const [dataProducts, setDataProducts] = useState(null);\r\n\r\n    const MODAL_PAGE_PRODUCTINFO = \"product-info\";\r\n\r\n    useEffect(() => {\r\n        connect.subscribe(({ detail: { type, data }}) => {\r\n            if (type === 'VKWebAppUpdateConfig') {\r\n                const schemeAttribute = document.createAttribute('scheme');\r\n                schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n                document.body.attributes.setNamedItem(schemeAttribute);\r\n            }\r\n        });\r\n        function serverRequest() {\r\n            return fetch(\"http://192.168.43.76:8080/items\", {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            })\r\n            .then(response => response.json())\r\n            .then(data => setDataProducts(data));\r\n        }\r\n        serverRequest();\r\n    }, []);\r\n\r\n    const modalBack = () => {\r\n        setActiveModal(null);\r\n    };\r\n\r\n    const openModal = e => {\r\n        setNameProductModal(e.currentTarget.dataset.name);\r\n        setPriceProductModal(e.currentTarget.dataset.price);\r\n        setImgProductModal(e.currentTarget.dataset.img);\r\n        setDescriptionProductModal(e.currentTarget.dataset.description);\r\n        setUrlProductModal(e.currentTarget.dataset.url);\r\n        setStoreProductModal(e.currentTarget.dataset.store);\r\n        setActiveModal(MODAL_PAGE_PRODUCTINFO);\r\n    };\r\n\r\n    const modal = (\r\n      <ModalRoot activeModal={activeModal}>\r\n        <ModalPage\r\n          id={\"product-info\"}\r\n          header={\r\n            <ModalPageHeader\r\n              left={IS_PLATFORM_ANDROID && <HeaderButton onClick={modalBack}><Icon24Cancel /></HeaderButton>}\r\n              right={IS_PLATFORM_IOS && <HeaderButton onClick={modalBack}><Icon24Dismiss /></HeaderButton>}\r\n            >\r\n              {nameProductModal ? nameProductModal : \"\"}\r\n            </ModalPageHeader>\r\n          }\r\n          onClose={modalBack}\r\n          settlingHeight={300}\r\n        >\r\n         <div className=\"ModalProduct\">\r\n            <img src={imgProductModal}/>\r\n            <div className=\"ModalProductDescription\">\r\n                {descriptionProductModal}\r\n            </div>\r\n            <div className=\"ModalStore\">\r\n                {storeProductModal}\r\n            </div>\r\n         </div>\r\n\r\n          <FormLayout>\r\n              <Button level=\"secondary\" size=\"xl\" >{priceProductModal ? (\"Купить за \" + priceProductModal) : \"\"}</Button>\r\n          </FormLayout>\r\n\r\n        </ModalPage>\r\n      </ModalRoot>\r\n    );\r\n\r\n    const go = e => {\r\n        setActivePanel(e.currentTarget.dataset.to);\r\n    };\r\n\r\n    return (\r\n        <View activePanel={activePanel} modal={modal}>\r\n            <Main id='main' openModal={openModal} dataProducts={dataProducts}/>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default AppSecondSecond;\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\n// import registerServiceWorker from './sw';\r\n\r\nimport AppSecondSecond from './AppSecondSecond';\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<AppSecondSecond />, document.getElementById('root'));\r\n"],"sourceRoot":""}